"use strict";(self["webpackChunkfirst_vue_app"]=self["webpackChunkfirst_vue_app"]||[]).push([[850],{9430:function(t,e,s){s.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"star-rating"},[t._l(t.starLimit,(function(t){return e("span",{key:t,staticClass:"star star--outlined"})})),e("div",{staticClass:"star-rating__colored",style:t.ratingWidthStyle},t._l(t.starLimit,(function(t){return e("span",{key:t,staticClass:"star star--colored"})})),0)],2)},i=[],a={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWidthStyle(){return`width: ${this.ratingWidth}%;`}}},n=a,l=s(1001),u=(0,l.Z)(n,r,i,!1,null,"14dd7948",null),c=u.exports},1840:function(t,e,s){s.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("button",t._g({class:{btn:!0,"btn--outlined":t.outlined},attrs:{type:t.type}},t.$listeners),[t._t("default")],2)},i=[],a={name:"ButtonItem",props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1}}},n=a,l=s(1001),u=(0,l.Z)(n,r,i,!1,null,"276fff3d",null),c=u.exports},9625:function(t,e,s){s.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wrapper-input"},[e("input",t._g(t._b({staticClass:"custom-input",class:!t.isValid&&"custom-input--error",domProps:{value:t.value},on:{blur:t.blurHandler}},"input",t.$attrs,!1),t.listeners)),t.isValid?t._e():e("span",{staticClass:"custom-input__error"},[t._v(t._s(t.error))])])},i=[],a={name:"CustomInput",data(){return{isValid:!0,error:"",isFirstInput:!0}},inject:{form:{default:null}},inheritAttrs:!1,props:{value:{type:String,default:""},errorMessage:{type:String,default:""},rules:{type:Array,default:()=>[]}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit("input",t.target.value)}}},watch:{value(){this.isFirstInput||this.validate()}},mounted(){this.form&&this.form.registerInput(this)},beforeUnmount(){this.form&&this.form.unRegisterInput(this)},methods:{validate(){return this.isValid=this.rules.every((t=>{const{hasPassed:e,message:s}=t(this.value);return e||(this.error=s||this.errorMessage),e})),this.isValid},blurHandler(){this.isFirstInput&&this.validate(),this.isFirstInput=!1},reset(){this.isFirstInput=!0,this.isValid=!0,this.$emit("input","")}}},n=a,l=s(1001),u=(0,l.Z)(n,r,i,!1,null,"73999a26",null),c=u.exports},911:function(t,e,s){s.d(e,{Z:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-spacer"},[t._t("default")],2)},i=[],a={name:"SectionSpacer"},n=a,l=s(1001),u=(0,l.Z)(n,r,i,!1,null,"0c5d90a0",null),c=u.exports},5850:function(t,e,s){s.r(e),s.d(e,{default:function(){return q}});var r=function(){var t=this,e=t._self._c;return e("main",{staticClass:"homepage"},[e("SectionWithHeaderSpacer",[e("Container",[e("ApartmentsFilterForm",{staticClass:"apartments-filter",on:{submit:t.filter}})],1),e("Container",[t.filteredApartments.length?e("ApartmentsList",{attrs:{items:t.filteredApartments},scopedSlots:t._u([{key:"apartment",fn:function({apartment:t}){return[e("ApartmentsItem",{key:t.id,attrs:{id:t.id,descr:t.desc,rating:t.rating,imgSrc:t.imgUrl,price:t.price}})]}}])}):e("p",[t._v("No results")])],1)],1)],1)},i=[],a=function(){var t=this,e=t._self._c;return e("ContainerBox",[t._t("title"),e("div",{staticClass:"apartments-list"},[t._l(t.items,(function(e){return[t._t("apartment",null,{apartment:e})]}))],2)],2)},n=[],l=s(3942),u={name:"ApartmentsList",components:{ContainerBox:l.Z},props:{items:{type:Array,default:()=>[]}}},c=u,o=s(1001),p=(0,o.Z)(c,a,n,!1,null,"2a9ab966",null),m=p.exports,d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"apartments-item",on:{click:t.log}},[e("div",{staticClass:"apartments-item__inner"},[e("img",{staticClass:"apartments-item__photo",attrs:{src:t.imgSrc,alt:""}}),e("div",{staticClass:"apartments-item__content"},[e("p",{staticClass:"apartments-item__desc"},[t._v(" "+t._s(t.desc)+" ")]),e("div",{staticClass:"apartments-item__rating"},[e("StarRating",{attrs:{rating:t.rating}})],1),e("div",{staticClass:"apartments-item__price"},[t._v(" UAH "+t._s(t.price))])])])])},f=[],h=s(9430),_={name:"ApartmentsItem",components:{StarRating:h.Z},props:{desc:{type:String,default:""},rating:{type:Number,default:0},price:{type:Number,required:!0},imgSrc:{type:String,default:""}},methods:{log(){console.log("click")}}},v=_,y=(0,o.Z)(v,d,f,!1,null,"78cd6ada",null),g=y.exports,C=function(){var t=this,e=t._self._c;return e("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[e("CustomSelect",{staticClass:"form__select",attrs:{items:t.cities},model:{value:t.city,callback:function(e){t.city=e},expression:"city"}}),e("CustomInput",{attrs:{placeholder:"Price, from","error-message":"Can't be empty",rules:t.rules},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),e("SubmitButton",{staticClass:"form__submit",attrs:{type:"submit"}},[t._v(" Search apartment ")])],1)},b=[],S=function(){var t=this,e=t._self._c;return e("select",t._g({staticClass:"custom-select"},t.$listeners),t._l(t.formatedItems,(function(s){return e("option",{key:s.value,domProps:{value:s.value,selected:s.selected}},[t._v(t._s(s.label))])})),0)},Z=[],A={name:"CustomSelect",props:{items:{type:Array,required:!0}},computed:{listeners(){return{...this.$listeners,input:t=>this.$emit("input",t.target.value)}},formatedItems(){return this.items.map((t=>"object"===typeof t?t:{value:t,label:t}))}}},I=A,k=(0,o.Z)(I,S,Z,!1,null,"bb1ba9aa",null),x=k.exports,$=s(9625),P=s(1840),F=s(520),B={components:{CustomSelect:x,CustomInput:$.Z,SubmitButton:P.Z},data(){return{price:"",city:""}},computed:{rules(){return[F.q9,(0,F.F8)(10)]},cities(){return[{value:"",label:"City",selected:!0},"Kyiv","Odesa","Poltava","Kharkiv","Dnipro","Lviv","Kherson","Mariupol","Cherkasy"]}},methods:{handleSubmit(){this.$emit("submit",{city:this.city,price:this.price})}}},L=B,w=(0,o.Z)(L,C,b,!1,null,"29ea096c",null),N=w.exports,V=s(3629),W=s(911),z={name:"App",components:{ApartmentsList:m,ApartmentsItem:g,ApartmentsFilterForm:N,Container:l.Z,SectionWithHeaderSpacer:W.Z},data(){return{text:"",apartments:[],filters:{city:"",price:0}}},computed:{filteredApartments(){return this.filterByCityName(this.filterByPrice(this.apartments))}},async created(){try{const{data:t}=await(0,V.U)();this.apartments=t}catch(t){console.error(t)}},methods:{filter({city:t,price:e}){this.filters.city=t,this.filters.price=e},filterByCityName(t){return this.filters.city?t.filter((t=>t.location.city===this.filters.city)):t},filterByPrice(t){return this.filters.price?t.filter((t=>t.price>=this.filters.price)):t}}},H=z,U=(0,o.Z)(H,r,i,!1,null,"db70671a",null),q=U.exports},3629:function(t,e,s){s.d(e,{I:function(){return a},U:function(){return i}});var r=s(5999);const i=()=>r.Z.get("/apartments"),a=t=>r.Z.get(`/apartments/${t}`)},520:function(t,e,s){s.d(e,{D6:function(){return a},F8:function(){return i},aO:function(){return n},q9:function(){return r}});const r=t=>({hasPassed:!!t,message:"Please fill this field"}),i=t=>e=>({hasPassed:e.length<=t,message:"Limit exceed"}),a=t=>({hasPassed:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(t),message:"Invalid email"}),n=t=>({hasPassed:/^(?=.*[A-Za-z])(?=.*[\d])[a-zA-Z0-9]{7,256}$/.test(t),message:"The password should contain one digit and one symbol"})}}]);
//# sourceMappingURL=850.2d37efb1.js.map