"use strict";(self["webpackChunkfirst_vue_app"]=self["webpackChunkfirst_vue_app"]||[]).push([[202],{9430:function(t,e,a){a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"star-rating"},[t._l(t.starLimit,(function(t){return e("span",{key:t,staticClass:"star star--outlined"})})),e("div",{staticClass:"star-rating__colored",style:t.ratingWidthStyle},t._l(t.starLimit,(function(t){return e("span",{key:t,staticClass:"star star--colored"})})),0)],2)},s=[],n={name:"StarRating",props:{rating:{type:Number,default:0},starLimit:{type:Number,default:5}},computed:{ratingWidth(){return this.rating/this.starLimit*100},ratingWidthStyle(){return`width: ${this.ratingWidth}%;`}}},r=n,o=a(1001),u=(0,o.Z)(r,i,s,!1,null,"14dd7948",null),c=u.exports},1840:function(t,e,a){a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("button",t._g({class:{btn:!0,"btn--outlined":t.outlined},attrs:{type:t.type}},t.$listeners),[t._t("default")],2)},s=[],n={name:"ButtonItem",props:{type:{type:String,default:"button"},outlined:{type:Boolean,default:!1}}},r=n,o=a(1001),u=(0,o.Z)(r,i,s,!1,null,"276fff3d",null),c=u.exports},911:function(t,e,a){a.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-spacer"},[t._t("default")],2)},s=[],n={name:"SectionSpacer"},r=n,o=a(1001),u=(0,o.Z)(r,i,s,!1,null,"0c5d90a0",null),c=u.exports},8202:function(t,e,a){a.r(e),a.d(e,{default:function(){return X}});var i=function(){var t=this,e=t._self._c;return e("main",{staticClass:"apartment-page"},[e("SectionWithHeaderSpacer",[e("Container",[t.apartment?e("div",{staticClass:"apartment-page__content"},[e("ApartmentsMainInfo",{attrs:{apartment:t.apartment}}),e("div",{staticClass:"apartment-page__additional-info"},[e("ApartmentsOwner",{staticClass:"apartment-page__owner",attrs:{owner:t.apartment.owner}}),e("Reviews",{attrs:{reviews:t.reviewsList}})],1)],1):t._e()])],1)],1)},s=[],n=a(3942),r=function(){var t=this,e=t._self._c;return e("article",{staticClass:"apartment-main-info"},[e("div",{staticClass:"apartment-main-info__heading"},[e("h1",{staticClass:"apartment-main-info__title"},[t._v(t._s(t.apartment.title))]),e("Rating",{attrs:{rating:t.apartment.rating}})],1),e("img",{staticClass:"apartment-main-info__photo",attrs:{src:t.apartment.imgUrl,alt:""}}),e("p",{staticClass:"apartment-main-info__description"},[t._v(t._s(t.apartment.desc))]),e("div",{staticClass:"apartment-main-info__btn"},[e("Button",{attrs:{loading:t.isLoading},on:{click:t.handleApartmentsBooking}},[t._v(" Book apartment ")])],1)])},o=[],u=a(9430),c=a(1840),l=a(463),m={name:"ApartmentsMainInfo",components:{Rating:u.Z,Button:c.Z},props:{apartment:{type:Object,required:!0}},data(){return{isLoading:!1}},methods:{async handleApartmentsBooking(){const t={apartmentId:this.$route.params.id,date:Date.now()};try{this.isLoading=!0,await(0,l.M)(t),this.$notify({type:"success",title:"Ordered"})}catch(e){this.$notify({type:"error",title:"Error",text:e.message})}finally{this.isLoading=!1}}}},p=m,d=a(1001),v=(0,d.Z)(p,r,o,!1,null,"e1312600",null),_=v.exports,h=function(){var t=this,e=t._self._c;return e("section",{staticClass:"apartments-owner"},[e("h2",{staticClass:"apartments-owner__title"},[t._v("Owner information:")]),e("p",{staticClass:"apartments-owner__info"},[t._v(t._s(t.owner.name))]),e("p",{staticClass:"apartments-owner__info"},[t._v("tel: "+t._s(t.owner.phone))]),e("p",{staticClass:"apartments-owner__info"},[t._v("email: "+t._s(t.owner.email))])])},g=[],w={name:"ApartmentsOwner",props:{owner:{type:Object,required:!0}}},f=w,C=(0,d.Z)(f,h,g,!1,null,"72e6e211",null),y=C.exports,L=function(){var t=this,e=t._self._c;return e("section",{staticClass:"reviews-list"},[e("div",{staticClass:"reviews__heading"},[e("h2",{staticClass:"reviews__title"},[t._v("Rating")]),e("div",{staticClass:"reviews__rating"},[e("span",[t._v(t._s(t.amountOfReviews)+" reviews")]),e("Rating",{attrs:{rating:t.totalRating}})],1)]),t._l(t.currentReviews,(function(t){return e("ReviewsItem",{key:t.author,attrs:{review:t}})})),e("button",{staticClass:"reviews__show-more",on:{click:t.toggleReviews}},[t._v(" "+t._s(t.buttonText)+" ")])],2)},R=[],Z=function(){var t=this,e=t._self._c;return e("section",{staticClass:"reviews-item"},[e("ReviewsHeading",{attrs:{rating:t.review.rating,author:t.review.author}}),e("p",{staticClass:"reviews-item__content"},[t._v(t._s(t.review.content))])],1)},b=[],A=function(){var t=this,e=t._self._c;return e("div",{staticClass:"reviews-heading"},[e("Avatar",{staticClass:"reviews-heading__avatar"}),e("div",{staticClass:"reviews-heading__content"},[e("span",{staticClass:"reviews-heading__author"},[t._v(t._s(t.author))]),e("Rating",{attrs:{rating:t.rating}})],1)],1)},x=[],q=function(){var t=this,e=t._self._c;return e("svg",{attrs:{width:"34",height:"34",viewBox:"0 0 34 34",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[e("circle",{attrs:{cx:"17",cy:"17",r:"17",fill:"white"}}),e("circle",{attrs:{cx:"17",cy:"17",r:"16",fill:"white",stroke:"#FF662D","stroke-width":"2"}}),e("path",{attrs:{fill:"#FF662D","fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.8053 28.8444L4.83307 28.8028C7.04004 25.4919 10.7338 23.5156 14.712 23.5156H19.2878C23.2661 23.5156 26.9599 25.4919 29.1669 28.8028L29.1946 28.8445C32.1687 25.783 34 21.6054 34 17C34 7.61115 26.3889 0 17 0C7.61115 0 0 7.61115 0 17C0 21.6053 1.83124 25.783 4.8053 28.8444ZM16.9999 7C12.9288 7 9.61713 10.3117 9.61713 14.3828C9.61713 18.4539 12.9288 21.7656 16.9999 21.7656C21.071 21.7656 24.3828 18.4539 24.3828 14.3828C24.3828 10.3117 21.071 7 16.9999 7Z"}})])},k=[],S={name:"ReviewsAvatar"},O=S,I=(0,d.Z)(O,q,k,!1,null,null,null),M=I.exports,B={name:"ReviewsHeading",components:{Rating:u.Z,Avatar:M},props:{author:{type:String,required:!0},rating:{type:Number,default:0}}},$=B,H=(0,d.Z)($,A,x,!1,null,"2177ef71",null),W=H.exports,F={name:"ReviewsItem",components:{ReviewsHeading:W},props:{review:{type:Object,required:!0}}},N=F,j=(0,d.Z)(N,Z,b,!1,null,"6b8b0f65",null),D=j.exports,J={name:"ReviewsList",components:{ReviewsItem:D,Rating:u.Z},props:{reviews:{type:Array,required:!0}},data(){return{reviewsLimit:2}},computed:{totalRating(){const t=this.reviews.reduce(((t,e)=>t+e.rating),0);return t/this.reviews.length},amountOfReviews(){return this.reviews.length},currentReviews(){return this.reviews.slice(0,this.reviewsLimit)},buttonText(){return this.reviewsLimit===this.reviews.length?"Minimize":"Load more..."}},methods:{toggleReviews(){this.reviewsLimit!==this.reviews.length?this.reviewsLimit=this.reviews.length:this.reviewsLimit=2}}},T=J,U=(0,d.Z)(T,L,R,!1,null,"7955a275",null),z=U.exports,E=JSON.parse('[{"author":"Alex","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":3.5},{"author":"Ron","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":4.5},{"author":"Marry","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":4.8},{"author":"John","content":"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Labore velit reiciendis modi magnam, aliquid architecto cumque saepe recusandae est optio accusamus ducimus itaque assumenda eius culpa earum. Aspernatur, molestiae dicta!","rating":2.8}]'),P=a(3629),G=a(911),K={name:"ApartmentPage",components:{Container:n.Z,ApartmentsMainInfo:_,ApartmentsOwner:y,Reviews:z,SectionWithHeaderSpacer:G.Z},data(){return{apartment:null}},computed:{reviewsList(){return E}},async created(){try{const{id:t}=this.$route.params,{data:e}=await(0,P.I)(t);this.apartment=e}catch(t){console.error(t)}}},Q=K,V=(0,d.Z)(Q,i,s,!1,null,"7dcf832e",null),X=V.exports},3629:function(t,e,a){a.d(e,{I:function(){return n},U:function(){return s}});var i=a(5999);const s=()=>i.Z.get("/apartments"),n=t=>i.Z.get(`/apartments/${t}`)},463:function(t,e,a){a.d(e,{A:function(){return n},M:function(){return s}});var i=a(5999);const s=t=>i.Z.post("/orders",t),n=()=>i.Z.get("/orders")}}]);
//# sourceMappingURL=202.57a8a5f4.js.map